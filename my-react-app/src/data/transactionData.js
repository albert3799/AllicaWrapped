// Transaction data for The Devil's Stone Inn for FY 2023-2024
export const transactionData = [
  // Income data with realistic pub revenue sources
  { date: '2023-04-01', amount: 3200.50, type: 'Credit', category: 'Beer Sales', party: 'Daily Sales' },
  { date: '2023-04-08', amount: 3580.75, type: 'Credit', category: 'Beer Sales', party: 'Daily Sales' },
  { date: '2023-04-15', amount: 3720.25, type: 'Credit', category: 'Beer Sales', party: 'Daily Sales' },
  { date: '2023-04-22', amount: 4100.00, type: 'Credit', category: 'Beer Sales', party: 'Daily Sales' },
  { date: '2023-04-29', amount: 4350.50, type: 'Credit', category: 'Beer Sales', party: 'Daily Sales' },
  { date: '2023-05-06', amount: 3980.25, type: 'Credit', category: 'Beer Sales', party: 'Daily Sales' },
  { date: '2023-05-13', amount: 3640.75, type: 'Credit', category: 'Beer Sales', party: 'Daily Sales' },
  
  { date: '2023-04-01', amount: 1250.50, type: 'Credit', category: 'Food Sales', party: 'Kitchen Revenue' },
  { date: '2023-04-08', amount: 1480.25, type: 'Credit', category: 'Food Sales', party: 'Kitchen Revenue' },
  { date: '2023-04-15', amount: 1620.75, type: 'Credit', category: 'Food Sales', party: 'Kitchen Revenue' },
  { date: '2023-04-22', amount: 1840.50, type: 'Credit', category: 'Food Sales', party: 'Kitchen Revenue' },
  { date: '2023-04-29', amount: 1950.25, type: 'Credit', category: 'Food Sales', party: 'Kitchen Revenue' },
  { date: '2023-05-06', amount: 1720.50, type: 'Credit', category: 'Food Sales', party: 'Kitchen Revenue' },
  { date: '2023-05-13', amount: 1580.75, type: 'Credit', category: 'Food Sales', party: 'Kitchen Revenue' },
  
  { date: '2023-04-05', amount: 850.00, type: 'Credit', category: 'Spirits & Wine', party: 'Bar Sales' },
  { date: '2023-04-12', amount: 920.50, type: 'Credit', category: 'Spirits & Wine', party: 'Bar Sales' },
  { date: '2023-04-19', amount: 980.25, type: 'Credit', category: 'Spirits & Wine', party: 'Bar Sales' },
  { date: '2023-04-26', amount: 1050.75, type: 'Credit', category: 'Spirits & Wine', party: 'Bar Sales' },
  { date: '2023-05-03', amount: 1120.50, type: 'Credit', category: 'Spirits & Wine', party: 'Bar Sales' },
  { date: '2023-05-10', amount: 960.25, type: 'Credit', category: 'Spirits & Wine', party: 'Bar Sales' },
  
  { date: '2023-04-07', amount: 450.00, type: 'Credit', category: 'Events', party: 'Live Music Night' },
  { date: '2023-04-14', amount: 580.25, type: 'Credit', category: 'Events', party: 'Quiz Night' },
  { date: '2023-04-21', amount: 750.50, type: 'Credit', category: 'Events', party: 'Darts Tournament' },
  { date: '2023-04-28', amount: 620.75, type: 'Credit', category: 'Events', party: 'Live Music Night' },
  { date: '2023-05-05', amount: 520.50, type: 'Credit', category: 'Events', party: 'Quiz Night' },
  { date: '2023-05-12', amount: 780.25, type: 'Credit', category: 'Events', party: 'Beer Festival' },
  
  { date: '2023-04-10', amount: 350.00, type: 'Credit', category: 'Accommodation', party: 'Room Bookings' },
  { date: '2023-04-17', amount: 425.50, type: 'Credit', category: 'Accommodation', party: 'Room Bookings' },
  { date: '2023-04-24', amount: 510.25, type: 'Credit', category: 'Accommodation', party: 'Room Bookings' },
  { date: '2023-05-01', amount: 380.75, type: 'Credit', category: 'Accommodation', party: 'Room Bookings' },
  { date: '2023-05-08', amount: 450.50, type: 'Credit', category: 'Accommodation', party: 'Room Bookings' },
  
  // Expense data with realistic pub costs
  { date: '2023-04-03', amount: 2150.00, type: 'Debit', category: 'Inventory', party: 'Greene King Brewery' },
  { date: '2023-04-17', amount: 1850.50, type: 'Debit', category: 'Inventory', party: 'St. Austell Brewery' },
  { date: '2023-05-01', amount: 2250.75, type: 'Debit', category: 'Inventory', party: "Sharp's Brewery" },
  
  { date: '2023-04-02', amount: 980.25, type: 'Debit', category: 'Food Supplies', party: 'Bidfood Wholesalers' },
  { date: '2023-04-16', amount: 1050.50, type: 'Debit', category: 'Food Supplies', party: 'Booker Wholesale' },
  { date: '2023-04-30', amount: 925.75, type: 'Debit', category: 'Food Supplies', party: 'Local Farms Ltd' },
  
  { date: '2023-04-05', amount: 2850.00, type: 'Debit', category: 'Staff Wages', party: 'Bar Staff' },
  { date: '2023-04-19', amount: 2850.00, type: 'Debit', category: 'Staff Wages', party: 'Bar Staff' },
  { date: '2023-05-03', amount: 2850.00, type: 'Debit', category: 'Staff Wages', party: 'Bar Staff' },
  
  { date: '2023-04-05', amount: 1950.25, type: 'Debit', category: 'Staff Wages', party: 'Kitchen Staff' },
  { date: '2023-04-19', amount: 1950.25, type: 'Debit', category: 'Staff Wages', party: 'Kitchen Staff' },
  { date: '2023-05-03', amount: 1950.25, type: 'Debit', category: 'Staff Wages', party: 'Kitchen Staff' },
  
  { date: '2023-04-10', amount: 780.50, type: 'Debit', category: 'Utilities', party: 'British Gas' },
  { date: '2023-05-10', amount: 750.25, type: 'Debit', category: 'Utilities', party: 'British Gas' },
  
  { date: '2023-04-12', amount: 650.00, type: 'Debit', category: 'Utilities', party: 'Thames Water' },
  { date: '2023-05-12', amount: 625.50, type: 'Debit', category: 'Utilities', party: 'Thames Water' },
  
  { date: '2023-04-15', amount: 395.25, type: 'Debit', category: 'Marketing', party: 'Local Newspaper' },
  { date: '2023-05-01', amount: 450.75, type: 'Debit', category: 'Marketing', party: 'Facebook Ads' },
  
  { date: '2023-04-20', amount: 1250.00, type: 'Debit', category: 'Rent', party: 'Property Owner' },
  { date: '2023-05-20', amount: 1250.00, type: 'Debit', category: 'Rent', party: 'Property Owner' },
  
  { date: '2023-04-25', amount: 380.25, type: 'Debit', category: 'Maintenance', party: 'Plumbing Repairs' },
  { date: '2023-05-15', amount: 275.50, type: 'Debit', category: 'Maintenance', party: 'Electrical Work' },
  
  { date: '2023-04-28', amount: 320.00, type: 'Debit', category: 'Entertainment', party: 'Live Band Payment' },
  { date: '2023-05-14', amount: 280.50, type: 'Debit', category: 'Entertainment', party: 'Quiz Prize Money' },
];

// Generate derived data for insights
export const getInsights = () => {
  const totalIncome = transactionData
    .filter(trx => trx.type === 'Credit')
    .reduce((sum, trx) => sum + trx.amount, 0);
  
  const totalExpenses = transactionData
    .filter(trx => trx.type === 'Debit')
    .reduce((sum, trx) => sum + trx.amount, 0);
  
  const netBalance = totalIncome - totalExpenses;
  
  // Calculate expenses by category
  const expensesByCategory = {};
  transactionData
    .filter(trx => trx.type === 'Debit')
    .forEach(trx => {
      if (!expensesByCategory[trx.category]) {
        expensesByCategory[trx.category] = 0;
      }
      expensesByCategory[trx.category] += trx.amount;
    });

  // Calculate income by category
  const incomeByCategory = {};
  transactionData
    .filter(trx => trx.type === 'Credit')
    .forEach(trx => {
      if (!incomeByCategory[trx.category]) {
        incomeByCategory[trx.category] = 0;
      }
      incomeByCategory[trx.category] += trx.amount;
    });
    
  // Calculate month-by-month revenue
  const monthlyRevenue = {};
  transactionData
    .filter(trx => trx.type === 'Credit')
    .forEach(trx => {
      const month = trx.date.substring(0, 7); // Format: YYYY-MM
      if (!monthlyRevenue[month]) {
        monthlyRevenue[month] = 0;
      }
      monthlyRevenue[month] += trx.amount;
    });
    
  // Find busiest day of the week
  const dayRevenue = {0:0, 1:0, 2:0, 3:0, 4:0, 5:0, 6:0}; // Sunday to Saturday
  transactionData
    .filter(trx => trx.type === 'Credit')
    .forEach(trx => {
      const date = new Date(trx.date);
      const day = date.getDay();
      dayRevenue[day] += trx.amount;
    });
  
  const busiestDay = Object.keys(dayRevenue).reduce((a, b) => 
    dayRevenue[a] > dayRevenue[b] ? a : b);
    
  const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
  
  // Find most profitable events
  const eventRevenue = {};
  transactionData
    .filter(trx => trx.type === 'Credit' && trx.category === 'Events')
    .forEach(trx => {
      if (!eventRevenue[trx.party]) {
        eventRevenue[trx.party] = 0;
      }
      eventRevenue[trx.party] += trx.amount;
    });
  
  const topEvent = Object.keys(eventRevenue).reduce((a, b) => 
    eventRevenue[a] > eventRevenue[b] ? a : b);
  
  // Profit margin
  const profitMargin = (netBalance / totalIncome) * 100;
  
  return {
    totalIncome,
    totalExpenses,
    netBalance,
    expensesByCategory,
    incomeByCategory,
    monthlyRevenue,
    busiestDay: dayNames[busiestDay],
    topEvent,
    profitMargin,
    dayRevenue,
    eventRevenue
  };
}; 